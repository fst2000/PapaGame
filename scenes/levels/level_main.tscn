[gd_scene load_steps=24 format=3 uid="uid://ctv7ucnk4g2ey"]

[ext_resource type="PackedScene" uid="uid://b73y6dpb8aug3" path="res://scenes/characters/papa.tscn" id="1_wjhe6"]
[ext_resource type="PackedScene" uid="uid://cpl174do7fh7n" path="res://scenes/characters/bully.tscn" id="2_8x5ck"]
[ext_resource type="PackedScene" uid="uid://fffg5or0wqok" path="res://scenes/levels/level_hood.tscn" id="3_fn2n6"]
[ext_resource type="PackedScene" uid="uid://byrjidenuveaa" path="res://scenes/characters/camera_3rd_person.tscn" id="3_l6bmr"]
[ext_resource type="PackedScene" uid="uid://bmari1xexyvf" path="res://scenes/levels/level_bridge.tscn" id="4_7efnh"]
[ext_resource type="Script" path="res://code/cutsceneStart.gd" id="4_pnn7p"]
[ext_resource type="Environment" uid="uid://kvvqmbm8s6b5" path="res://scenes/levels/winter_night_environment.tres" id="5_dij1p"]
[ext_resource type="Script" path="res://code/cutsceneTrigger_1.gd" id="6_4w38b"]
[ext_resource type="Animation" uid="uid://cb0vg251bo8gx" path="res://scenes/levels/hood_animations/Cutscene_Hood_1.res" id="7_rwsqr"]
[ext_resource type="Script" path="res://code/cutsceneTrigger_2.gd" id="7_sbww8"]
[ext_resource type="PackedScene" uid="uid://dhkkw00fukjhm" path="res://scenes/levels/level_left_coast.tscn" id="9_4icev"]
[ext_resource type="PackedScene" uid="uid://4cakhji5q62" path="res://scenes/objects/snowcat.tscn" id="10_lfr6c"]
[ext_resource type="PackedScene" uid="uid://t717pkk0vyke" path="res://scenes/characters/edgar.tscn" id="11_6lquj"]
[ext_resource type="Script" path="res://code/cutsceneTrigger_3.gd" id="12_ajrwi"]
[ext_resource type="PackedScene" uid="uid://dwa12wrb8vxrd" path="res://scenes/characters/hooder.tscn" id="13_qo71w"]
[ext_resource type="Script" path="res://code/cutsceneTrigger_4.gd" id="13_vu87j"]

[sub_resource type="AnimationLibrary" id="AnimationLibrary_41pjw"]
_data = {
"Cutscene_Hood_1": ExtResource("7_rwsqr")
}

[sub_resource type="BoxShape3D" id="BoxShape3D_wa1q7"]
size = Vector3(13.8658, 5.81368, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_7gpvx"]
size = Vector3(1, 5.90479, 19.7115)

[sub_resource type="NavigationMesh" id="NavigationMesh_t8r0k"]
vertices = PackedVector3Array(-1.39772, 0.5, -12.5626, -1.39772, 0.5, -3.06255, 0.852282, 0.5, -2.81255, 0.852282, 0.5, -12.8126, 0.852282, 0.5, -2.81255, 66.6023, 0.5, 5.93745, 66.6023, 0.5, -15.3126, 0.852282, 0.5, -12.8126, 66.6023, 0.5, -15.3126, 0.852282, 0.5, -15.3126, 0.852282, 0.5, -12.8126, 0.852282, 0.5, -2.81255, 0.852282, 0.5, 5.93745, 66.6023, 0.5, 5.93745, -1.39772, 0.5, -3.06255, -1.39772, 0.5, -12.5626, -20.3977, 0.5, -12.5626, -20.3977, 0.5, -3.06255)
polygons = [PackedInt32Array(0, 3, 1), PackedInt32Array(1, 3, 2), PackedInt32Array(7, 6, 4), PackedInt32Array(4, 6, 5), PackedInt32Array(10, 9, 8), PackedInt32Array(13, 12, 11), PackedInt32Array(17, 16, 14), PackedInt32Array(14, 16, 15)]

[sub_resource type="PlaneMesh" id="PlaneMesh_0q4jd"]

[sub_resource type="PlaneMesh" id="PlaneMesh_ihodm"]

[sub_resource type="BoxShape3D" id="BoxShape3D_ecwv1"]
size = Vector3(1, 16.0233, 18.1816)

[node name="level_main" type="Node3D"]

[node name="papa" parent="." node_paths=PackedStringArray("camera") instance=ExtResource("1_wjhe6")]
transform = Transform3D(1, 0, 1.06581e-14, 0, 1, 0, -1.06581e-14, 0, 1, 0.0375748, 1.36267, -8.86684)
floor_snap_length = 0.3
camera = NodePath("../Camera3D")

[node name="Camera3D" parent="." node_paths=PackedStringArray("origin") instance=ExtResource("3_l6bmr")]
transform = Transform3D(-4.37112e-08, 0, 1, 0, 1, 0, -1, 0, -4.37112e-08, 12.9525, 36.297, -23.9285)
origin = NodePath("../papa")

[node name="level_hood" parent="." instance=ExtResource("3_fn2n6")]

[node name="CutsceneStart" type="Node3D" parent="level_hood" node_paths=PackedStringArray("camera", "papa")]
script = ExtResource("4_pnn7p")
camera = NodePath("../../Camera3D")
papa = NodePath("../../papa")

[node name="CutsceneOrigin" type="Node3D" parent="level_hood/CutsceneStart"]
transform = Transform3D(-0.366501, 0, 0.930418, 0, 1, 0, -0.930418, 0, -0.366501, 16.21, 35.98, -23.484)

[node name="CutsceneLookTarget" type="Node3D" parent="level_hood/CutsceneStart/CutsceneOrigin"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -10)

[node name="AnimationPlayer" type="AnimationPlayer" parent="level_hood/CutsceneStart"]
root_node = NodePath("../..")
libraries = {
"": SubResource("AnimationLibrary_41pjw")
}

[node name="CutsceneTrigger1" type="Area3D" parent="level_hood" node_paths=PackedStringArray("camera", "papa", "bullies")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.1563, 0, 45.3582)
collision_layer = 2
collision_mask = 2
script = ExtResource("6_4w38b")
camera = NodePath("../../Camera3D")
papa = NodePath("../../papa")
bullies = [NodePath("../bully"), NodePath("../bully2"), NodePath("../bully3")]

[node name="CameraOrigin" type="Node3D" parent="level_hood/CutsceneTrigger1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.3503, 4.45877, 2.0186)

[node name="BullyTarget1" type="Node3D" parent="level_hood/CutsceneTrigger1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.176743, 1.45476, 2.36656)

[node name="BullyTarget2" type="Node3D" parent="level_hood/CutsceneTrigger1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.957724, 1.45476, 3.75061)

[node name="BullyTarget3" type="Node3D" parent="level_hood/CutsceneTrigger1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.61335, 1.45476, 3.5008)

[node name="CollisionShape3D" type="CollisionShape3D" parent="level_hood/CutsceneTrigger1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.23674, 1.55571, 1.04351)
shape = SubResource("BoxShape3D_wa1q7")

[node name="CutsceneTrigger2" type="Area3D" parent="level_hood" node_paths=PackedStringArray("camera", "papa", "look_target", "camera_origin")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 27.0893, 0, 81.6664)
collision_layer = 2
collision_mask = 2
script = ExtResource("7_sbww8")
camera = NodePath("../../Camera3D")
papa = NodePath("../../papa")
look_target = NodePath("LookTarget")
camera_origin = NodePath("CameraOrigin")

[node name="CameraOrigin" type="Node3D" parent="level_hood/CutsceneTrigger2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.95464, 3.38166, -2.79547)

[node name="CollisionShape3D" type="CollisionShape3D" parent="level_hood/CutsceneTrigger2"]
transform = Transform3D(0.615318, 0, 0.788279, 0, 1, 0, -0.788279, 0, 0.615318, -0.886318, 1.55571, 1.64816)
shape = SubResource("BoxShape3D_wa1q7")

[node name="LookTarget" type="Node3D" parent="level_hood/CutsceneTrigger2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.4325, 1.84498, -1.58978)

[node name="bully" parent="level_hood" instance=ExtResource("2_8x5ck")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 16.9578, 1.19031, 51.8521)

[node name="bully2" parent="level_hood" instance=ExtResource("2_8x5ck")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 18.5996, 1.22978, 52.0273)

[node name="bully3" parent="level_hood" instance=ExtResource("2_8x5ck")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 19.6219, 1.03495, 51.807)

[node name="level_bridge" parent="." instance=ExtResource("4_7efnh")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 175.211, -25.7702, 71.6865)

[node name="level_left_coast" parent="." instance=ExtResource("9_4icev")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 243.431, -15, 79.65)

[node name="CutsceneTrigger3" type="Area3D" parent="level_left_coast" node_paths=PackedStringArray("camera", "papa", "edgar", "bullies", "snowcat")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 25.7708, 0.793136, -2.52061)
collision_layer = 0
collision_mask = 2
script = ExtResource("12_ajrwi")
camera = NodePath("../../Camera3D")
papa = NodePath("../../papa")
edgar = NodePath("../edgar")
bullies = [NodePath("../hooder"), NodePath("../bully4"), NodePath("../bully5"), NodePath("../bully"), NodePath("../bully2")]
snowcat = NodePath("../snowcat")

[node name="CollisionShape3D" type="CollisionShape3D" parent="level_left_coast/CutsceneTrigger3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.45239, -1.1994)
shape = SubResource("BoxShape3D_7gpvx")

[node name="CameraOrigin" type="Node3D" parent="level_left_coast/CutsceneTrigger3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.88477, 0.759498, -3.7662)

[node name="CameraOrigin2" type="Node3D" parent="level_left_coast/CutsceneTrigger3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.42203, 3.37182, 0.902832)

[node name="CameraOrigin3" type="Node3D" parent="level_left_coast/CutsceneTrigger3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.29245, 0.220727, -0.580605)

[node name="CameraOrigin4" type="Node3D" parent="level_left_coast/CutsceneTrigger3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 13.6635, 0.220727, 1.96828)

[node name="edgar" parent="level_left_coast" instance=ExtResource("11_6lquj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 35.1048, -0.0448294, -4.72939)

[node name="hooder" parent="level_left_coast" instance=ExtResource("13_qo71w")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 35.0543, -0.0447617, -2.3537)

[node name="bully" parent="level_left_coast" instance=ExtResource("2_8x5ck")]
transform = Transform3D(-0.965926, 0, 0.258819, 0, 1, 0, -0.258819, 0, -0.965926, 34.1762, -0.0438166, -1.51569)

[node name="bully2" parent="level_left_coast" instance=ExtResource("2_8x5ck")]
transform = Transform3D(-0.965926, 0, -0.258819, 0, 1, 0, 0.258819, 0, -0.965926, 35.8566, -0.0460892, -1.3089)

[node name="bully4" parent="level_left_coast" instance=ExtResource("2_8x5ck")]
transform = Transform3D(-0.866025, 0, -0.5, 0, 1, 0, 0.5, 0, -0.866025, 36.8267, -0.0470266, -2.25617)

[node name="bully5" parent="level_left_coast" instance=ExtResource("2_8x5ck")]
transform = Transform3D(-0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, -0.707107, 33.355, -0.0425949, -2.13323)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="level_left_coast"]
navigation_mesh = SubResource("NavigationMesh_t8r0k")

[node name="MeshInstance3D" type="MeshInstance3D" parent="level_left_coast/NavigationRegion3D"]
transform = Transform3D(33.2737, 0, 0, 0, 1, 0, 0, 0, 11.1717, 33.8163, 0, -4.64081)
visible = false
mesh = SubResource("PlaneMesh_0q4jd")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="level_left_coast/NavigationRegion3D"]
transform = Transform3D(10.6997, 0, 0, 0, 1, 0, 0, 0, 5.18051, -9.75591, 0, -7.80399)
visible = false
mesh = SubResource("PlaneMesh_ihodm")

[node name="snowcat" parent="level_left_coast" instance=ExtResource("10_lfr6c")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 35.145, -0.0439997, -3.8633)

[node name="CutsceneTrigger4" type="Area3D" parent="level_left_coast" node_paths=PackedStringArray("camera", "papa", "snowcat")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 204.918, 20.8087, -2.06532)
collision_layer = 0
collision_mask = 8
script = ExtResource("13_vu87j")
camera = NodePath("../../Camera3D")
papa = NodePath("../../papa")
snowcat = NodePath("../snowcat")

[node name="CollisionShape3D" type="CollisionShape3D" parent="level_left_coast/CutsceneTrigger4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 6.56651, 0)
shape = SubResource("BoxShape3D_ecwv1")

[node name="CameraOrigin" type="Node3D" parent="level_left_coast/CutsceneTrigger4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 21.0588, 1.04824, -6.00989)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
visible = false

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource("5_dij1p")

[connection signal="body_entered" from="level_hood/CutsceneTrigger1" to="level_hood/CutsceneTrigger1" method="_on_body_entered"]
[connection signal="body_entered" from="level_hood/CutsceneTrigger2" to="level_hood/CutsceneTrigger2" method="_on_body_entered"]
[connection signal="body_entered" from="level_left_coast/CutsceneTrigger3" to="level_left_coast/CutsceneTrigger3" method="_on_body_entered"]
[connection signal="body_entered" from="level_left_coast/CutsceneTrigger4" to="level_left_coast/CutsceneTrigger4" method="_on_body_entered"]
